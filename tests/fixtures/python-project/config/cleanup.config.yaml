# Cleanup config for python-project fixture
version: 1

profile: python
features: []

comment_syntax:
  ".py": "#"

markers:
  template_only:
    start: "TEMPLATE-ONLY:START"
    end: "TEMPLATE-ONLY:END"
  line_tag: "@template-only"

profiles:
  python:
    rules:
      - id: strip-template-blocks
        type: block_markers
        description: "Remove template-only code blocks"
        markers:
          start: "TEMPLATE-ONLY:START"
          end: "TEMPLATE-ONLY:END"

      - id: strip-line-tags
        type: line_tag
        description: "Remove lines tagged as template-only"
        tag: "@template-only"

      - id: remove-template-deps
        type: package_prune
        description: "Remove template-only dependencies"
        manager: pip
        remove_deps:
          - "template-only-package"

